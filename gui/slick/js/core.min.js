var srRoot=getMeta("srRoot"),themeSpinner=getMeta("themeSpinner"),anonURL=getMeta("anonURL"),topImageHtml='<img src="'+srRoot+'/images/top.gif" width="31" height="11" alt="Jump to top" />',loading='<img src="'+srRoot+"/images/loading16"+themeSpinner+'.gif" height="16" width="16" />',SICKRAGE={common:{init:function(){$("#config-components").tabs({activate:function(a,b){var c=$(this).data("lastOpenedPanel");$(this).tabs("option","selected");c||(c=$(b.oldPanel)),$(this).data("topPositionTab")||$(this).data("topPositionTab",$(b.newPanel).position().top),$(b.newPanel).hide().fadeIn(0),c&&c.toggleClass("ui-tabs-hide").css("position","absolute").css("top",$(this).data("topPositionTab")+"px").fadeOut(0,function(){$(this).css("position","")}),$(this).data("lastOpenedPanel",$(b.newPanel))}}),(navigator.maxTouchPoints||0)<2&&$(".dropdown-toggle").on("click",function(a){var b=$(this);"true"===b.attr("aria-expanded")&&(window.location.href=b.attr("href"))}),metaToBool("sickbeard.FUZZY_DATING")&&($.timeago.settings.allowFuture=!0,$.timeago.settings.strings={prefixAgo:null,prefixFromNow:"In ",suffixAgo:"ago",suffixFromNow:"",seconds:"less than a minute",minute:"about a minute",minutes:"%d minutes",hour:"an hour",hours:"%d hours",day:"a day",days:"%d days",month:"a month",months:"%d months",year:"a year",years:"%d years",wordSeparator:" ",numbers:[]},$("[datetime]").timeago())}},config:{init:function(){$("#config-components").tabs(),$(".enabler").each(function(){$(this).prop("checked")||$("#content_"+$(this).attr("id")).hide()}),$(".enabler").click(function(){$(this).prop("checked")?$("#content_"+$(this).attr("id")).fadeIn("fast","linear"):$("#content_"+$(this).attr("id")).fadeOut("fast","linear")}),$(".viewIf").click(function(){$(this).prop("checked")?($(".hide_if_"+$(this).attr("id")).css("display","none"),$(".show_if_"+$(this).attr("id")).fadeIn("fast","linear")):($(".show_if_"+$(this).attr("id")).css("display","none"),$(".hide_if_"+$(this).attr("id")).fadeIn("fast","linear"))}),$(".datePresets").click(function(){var a=$("#date_presets").val();$(this).prop("checked")&&"%x"===a?(a="%a, %b %d, %Y",$("#date_use_system_default").html("1")):$(this).prop("checked")||"1"!==$("#date_use_system_default").html()||(a="%x"),$("#date_presets").attr("name","date_preset_old"),$("#date_presets").attr("id","date_presets_old"),$("#date_presets_na").attr("name","date_preset"),$("#date_presets_na").attr("id","date_presets"),$("#date_presets_old").attr("name","date_preset_na"),$("#date_presets_old").attr("id","date_presets_na"),a&&$("#date_presets").val(a)}),$("#configForm").ajaxForm({beforeSubmit:function(){$(".config_submitter .config_submitter_refresh").each(function(){$(this).attr("disabled","disabled"),$(this).after('<span><img src="'+srRoot+"/images/loading16"+themeSpinner+'.gif"> Saving...</span>'),$(this).hide()})},success:function(){setTimeout(function(){"use strict";configSuccess()},2e3)}}),$("#api_key").click(function(){$("#api_key").select()}),$("#generate_new_apikey").click(function(){$.get(srRoot+"/config/general/generateApiKey",function(a){return void 0!==a.error?void alert(a.error):void $("#api_key").val(a)})}),$("#branchCheckout").click(function(){var a=srRoot+"/home/branchCheckout?branch="+$("#branchVersion").val(),b=srRoot+"/home/getDBcompare";$.getJSON(b,function(b){"success"===b.status&&("equal"===b.message&&(window.location.href=a),"upgrade"===b.message&&confirm("Changing branch will upgrade your database.\nYou won't be able to downgrade afterward.\nDo you want to continue?")&&(window.location.href=a),"downgrade"===b.message&&alert("Can't switch branch as this will result in a database downgrade."))})})},index:function(){0===$("input[name='proxy_setting']").val().length&&($("input[id='proxy_indexers']").prop("checked",!1),$("label[for='proxy_indexers']").hide()),$("input[name='proxy_setting']").on("input",function(){0===$(this).val().length?($("input[id='proxy_indexers']").prop("checked",!1),$("label[for='proxy_indexers']").hide()):$("label[for='proxy_indexers']").show()}),$("#log_dir").fileBrowser({title:"Select log file folder location"})},backupRestore:function(){$("#Backup").click(function(){$("#Backup").attr("disabled",!0),$("#Backup-result").html(loading);var a=$("#backupDir").val();$.get(srRoot+"/config/backuprestore/backup",{backupDir:a}).done(function(a){$("#Backup-result").html(a),$("#Backup").attr("disabled",!1)})}),$("#Restore").click(function(){$("#Restore").attr("disabled",!0),$("#Restore-result").html(loading);var a=$("#backupFile").val();$.get(srRoot+"/config/backuprestore/restore",{backupFile:a}).done(function(a){$("#Restore-result").html(a),$("#Restore").attr("disabled",!1)})}),$("#backupDir").fileBrowser({title:"Select backup folder to save to",key:"backupPath"}),$("#backupFile").fileBrowser({title:"Select backup files to restore",key:"backupFile",includeFiles:1}),$("#config-components").tabs(),$(".enabler").each(function(){$(this).prop("checked")||$("#content_"+$(this).attr("id")).hide()}),$(".enabler").click(function(){$(this).prop("checked")?$("#content_"+$(this).attr("id")).fadeIn("fast","linear"):$("#content_"+$(this).attr("id")).fadeOut("fast","linear")}),$(".viewIf").click(function(){$(this).prop("checked")?($(".hide_if_"+$(this).attr("id")).css("display","none"),$(".show_if_"+$(this).attr("id")).fadeIn("fast","linear")):($(".show_if_"+$(this).attr("id")).css("display","none"),$(".hide_if_"+$(this).attr("id")).fadeIn("fast","linear"))}),$(".datePresets").click(function(){var a=$("#date_presets").val();$(this).prop("checked")&&"%x"==a?(a="%a, %b %d, %Y",$("#date_use_system_default").html("1")):$(this).prop("checked")||"1"!=$("#date_use_system_default").html()||(a="%x"),$("#date_presets").attr("name","date_preset_old"),$("#date_presets").attr("id","date_presets_old"),$("#date_presets_na").attr("name","date_preset"),$("#date_presets_na").attr("id","date_presets"),$("#date_presets_old").attr("name","date_preset_na"),$("#date_presets_old").attr("id","date_presets_na"),a&&$("#date_presets").val(a)}),$("#configForm").ajaxForm({beforeSubmit:function(){$(".config_submitter .config_submitter_refresh").each(function(){$(this).attr("disabled","disabled"),$(this).after('<span><img src="'+srRoot+"/images/loading16"+themeSpinner+'.gif"> Saving...</span>'),$(this).hide()})},success:function(){setTimeout(function(){"use strict";configSuccess()},2e3)}}),$("#api_key").click(function(){$("#api_key").select()}),$("#generate_new_apikey").click(function(){$.get(srRoot+"/config/general/generateApiKey",function(a){return void 0!==a.error?void alert(a.error):void $("#api_key").val(a)})}),$("#branchCheckout").click(function(){var a=srRoot+"/home/branchCheckout?branch="+$("#branchVersion").val(),b=srRoot+"/home/getDBcompare";$.getJSON(b,function(b){"success"===b.status.toLowerCase()&&("equal"===b.message.toLowerCase()&&(window.location.href=a),"upgrade"===b.message.toLowerCase()&&confirm("Changing branch will upgrade your database.\nYou won't be able to downgrade afterward.\nDo you want to continue?")&&(window.location.href=a),"downgrade"===b.message.toLowerCase()&&alert("Can't switch branch as this will result in a database downgrade."))})})},notifications:function(){function a(a){var b={};return b.api=$("#pushbullet_api").val(),a&&$("#testPushbullet-result").html(loading),b.api?($.get(srRoot+"/home/getPushbulletDevices",{api:b.api},function(c){b.devices=jQuery.parseJSON(c).devices,b.currentDevice=$("#pushbullet_device").val(),$("#pushbullet_device_list").html("");for(var d=0,e=devices.length;e>d;d++)devices[d].active===!0&&(b.currentDevice===b.devices[d].iden?$("#pushbullet_device_list").append('<option value="'+b.devices[d].iden+'" selected>'+b.devices[d].nickname+"</option>"):$("#pushbullet_device_list").append('<option value="'+b.devices[d].iden+'">'+b.devices[d].nickname+"</option>"));""===b.currentDevice?$("#pushbullet_device_list").prepend('<option value="" selected>All devices</option>'):$("#pushbullet_device_list").prepend('<option value="">All devices</option>'),a&&$("#testPushbullet-result").html(a)}),void $("#pushbullet_device_list").change(function(){$("#pushbullet_device").val($("#pushbullet_device_list").val()),$("#testPushbullet-result").html("Don't forget to save your new pushbullet settings.")})):($("#testPushbullet-result").html("You didn't supply a Pushbullet api key"),$("#pushbullet_api").focus(),!1)}function b(){$.get(srRoot+"/home/loadShowNotifyLists",function(a){var b,c,d;if(b=$.parseJSON(a),notify_data=b,0!==b._size){c='<option value="-1">-- Select --</option>';for(d in b)"_"!==d.charAt(0)&&(c+='<option value="'+b[d].id+'">'+$("<div/>").text(b[d].name).html()+"</option>");$("#email_show").html(c),$("#email_show_list").val("")}})}$("#config-components").tabs(),$("#testGrowl").click(function(){var a={};return a.host=$.trim($("#growl_host").val()),a.password=$.trim($("#growl_password").val()),a.ost?($("#growl_host").removeClass("warning"),$(this).prop("disabled",!0),$("#testGrowl-result").html(loading),void $.get(srRoot+"/home/testGrowl",{host:a.host,password:a.password}).done(function(a){$("#testGrowl-result").html(a),$("#testGrowl").prop("disabled",!1)})):($("#testGrowl-result").html("Please fill out the necessary fields above."),void $("#growl_host").addClass("warning"))}),$("#testProwl").click(function(){var a={};return a.api=$.trim($("#prowl_api").val()),a.priority=$("#prowl_priority").val(),a.ai?($("#prowl_api").removeClass("warning"),$(this).prop("disabled",!0),$("#testProwl-result").html(loading),void $.get(srRoot+"/home/testProwl",{prowl_api:a.api,prowl_priority:a.priority}).done(function(a){$("#testProwl-result").html(a),$("#testProwl").prop("disabled",!1)})):($("#testProwl-result").html("Please fill out the necessary fields above."),void $("#prowl_api").addClass("warning"))}),$("#testKODI").click(function(){var a={};return a.host=$.trim($("#kodi_host").val()),a.username=$.trim($("#kodi_username").val()),a.password=$.trim($("#kodi_password").val()),a.host?($("#kodi_host").removeClass("warning"),$(this).prop("disabled",!0),$("#testKODI-result").html(loading),void $.get(srRoot+"/home/testKODI",{host:a.host,username:a.username,password:a.password}).done(function(a){$("#testKODI-result").html(a),$("#testKODI").prop("disabled",!1)})):($("#testKODI-result").html("Please fill out the necessary fields above."),void $("#kodi_host").addClass("warning"))}),$("#testPMC").click(function(){var a={};return a.client={},a.client.host=$.trim($("#plex_host").val()),a.client.username=$.trim($("#plex_client_username").val()),a.client.password=$.trim($("#plex_client_password").val()),a.host?($("#plex_host").removeClass("warning"),$(this).prop("disabled",!0),$("#testPMC-result").html(loading),void $.get(srRoot+"/home/testPMC",{host:a.client.host,username:a.client.username,password:a.client.password}).done(function(a){$("#testPMC-result").html(a),$("#testPMC").prop("disabled",!1)})):($("#testPMC-result").html("Please fill out the necessary fields above."),void $("#plex_host").addClass("warning"))}),$("#testPMS").click(function(){var a={};return a.server={},a.server.host=$.trim($("#plex_server_host").val()),a.username=$.trim($("#plex_username").val()),a.password=$.trim($("#plex_password").val()),a.server.token=$.trim($("#plex_server_token").val()),a.server.host?($("#plex_server_host").removeClass("warning"),$(this).prop("disabled",!0),$("#testPMS-result").html(loading),void $.get(srRoot+"/home/testPMS",{host:a.server.host,username:a.username,password:a.password,plex_server_token:a.server.token}).done(function(a){$("#testPMS-result").html(a),$("#testPMS").prop("disabled",!1)})):($("#testPMS-result").html("Please fill out the necessary fields above."),void $("#plex_server_host").addClass("warning"))}),$("#testEMBY").click(function(){var a={};return a.host=$("#emby_host").val(),a.apikey=$("#emby_apikey").val(),a.host&&a.apikey?($("#emby_host,#emby_apikey").removeClass("warning"),$(this).prop("disabled",!0),$("#testEMBY-result").html(loading),void $.get(srRoot+"/home/testEMBY",{host:a.host,emby_apikey:a.apikey}).done(function(a){$("#testEMBY-result").html(a),$("#testEMBY").prop("disabled",!1)})):($("#testEMBY-result").html("Please fill out the necessary fields above."),a.host?$("#emby_host").removeClass("warning"):$("#emby_host").addClass("warning"),void(a.apikey?$("#emby_apikey").removeClass("warning"):$("#emby_apikey").addClass("warning")))}),$("#testBoxcar").click(function(){var a={};return a.username=$.trim($("#boxcar_username").val()),a.username?($("#boxcar_username").removeClass("warning"),$(this).prop("disabled",!0),$("#testBoxcar-result").html(loading),void $.get(srRoot+"/home/testBoxcar",{username:a.username}).done(function(a){$("#testBoxcar-result").html(a),$("#testBoxcar").prop("disabled",!1)})):($("#testBoxcar-result").html("Please fill out the necessary fields above."),void $("#boxcar_username").addClass("warning"))}),$("#testBoxcar2").click(function(){var a={};return a.accesstoken=$.trim($("#boxcar2_accesstoken").val()),a.accesstoken?($("#boxcar2_accesstoken").removeClass("warning"),$(this).prop("disabled",!0),$("#testBoxcar2-result").html(loading),void $.get(srRoot+"/home/testBoxcar2",{accesstoken:a.accesstoken}).done(function(a){$("#testBoxcar2-result").html(a),$("#testBoxcar2").prop("disabled",!1)})):($("#testBoxcar2-result").html("Please fill out the necessary fields above."),void $("#boxcar2_accesstoken").addClass("warning"))}),$("#testPushover").click(function(){var a={};return a.userkey=$("#pushover_userkey").val(),a.apikey=$("#pushover_apikey").val(),a.userkey&&a.apikey?($("#pushover_userkey,#pushover_apikey").removeClass("warning"),$(this).prop("disabled",!0),$("#testPushover-result").html(loading),void $.get(srRoot+"/home/testPushover",{userKey:a.userkey,apiKey:a.apikey}).done(function(a){$("#testPushover-result").html(a),$("#testPushover").prop("disabled",!1)})):($("#testPushover-result").html("Please fill out the necessary fields above."),a.userkey?$("#pushover_userkey").removeClass("warning"):$("#pushover_userkey").addClass("warning"),void(a.apikey?$("#pushover_apikey").removeClass("warning"):$("#pushover_apikey").addClass("warning")))}),$("#testLibnotify").click(function(){$("#testLibnotify-result").html(loading),$.get(srRoot+"/home/testLibnotify",function(a){$("#testLibnotify-result").html(a)})}),$("#twitterStep1").click(function(){$("#testTwitter-result").html(loading),$.get(srRoot+"/home/twitterStep1",function(a){window.open(a)}).done(function(){$("#testTwitter-result").html("<b>Step1:</b> Confirm Authorization")})}),$("#twitterStep2").click(function(){var a={};return a.key=$.trim($("#twitter_key").val()),a.key?($("#twitter_key").removeClass("warning"),$("#testTwitter-result").html(loading),void $.get(srRoot+"/home/twitterStep2",{key:a.key},function(a){$("#testTwitter-result").html(a)})):($("#testTwitter-result").html("Please fill out the necessary fields above."),void $("#twitter_key").addClass("warning"))}),$("#testTwitter").click(function(){$.get(srRoot+"/home/testTwitter",function(a){$("#testTwitter-result").html(a)})}),$("#settingsNMJ").click(function(){var a={};return $("#nmj_host").val()?($("#testNMJ-result").html(loading),a.host=$("#nmj_host").val(),void $.get(srRoot+"/home/settingsNMJ",{host:a.host},function(a){null===a&&($("#nmj_database").removeAttr("readonly"),$("#nmj_mount").removeAttr("readonly"));var b=$.parseJSON(a);$("#testNMJ-result").html(b.message),$("#nmj_database").val(b.database),$("#nmj_mount").val(b.mount),b.database?$("#nmj_database").attr("readonly",!0):$("#nmj_database").removeAttr("readonly"),b.mount?$("#nmj_mount").attr("readonly",!0):$("#nmj_mount").removeAttr("readonly")})):(alert("Please fill in the Popcorn IP address"),void $("#nmj_host").focus())}),$("#testNMJ").click(function(){var a={};return a.host=$.trim($("#nmj_host").val()),a.database=$("#nmj_database").val(),a.mount=$("#nmj_mount").val(),a.host?($("#nmj_host").removeClass("warning"),$(this).prop("disabled",!0),$("#testNMJ-result").html(loading),void $.get(srRoot+"/home/testNMJ",{host:a.host,database:a.database,mount:a.mount}).done(function(a){$("#testNMJ-result").html(a),$("#testNMJ").prop("disabled",!1)})):($("#testNMJ-result").html("Please fill out the necessary fields above."),void $("#nmj_host").addClass("warning"))}),$("#settingsNMJv2").click(function(){var a={};if(!$("#nmjv2_host").val())return alert("Please fill in the Popcorn IP address"),void $("#nmjv2_host").focus();$("#testNMJv2-result").html(loading),a.host=$("#nmjv2_host").val(),a.dbloc="";for(var b=document.getElementsByName("nmjv2_dbloc"),c=0,d=b.length;d>c;c++)if(b[c].checked){a.dbloc=b[c].value;break}a.dbinstance=$("#NMJv2db_instance").val(),$.get(srRoot+"/home/settingsNMJv2",{host:a.host,dbloc:a.dbloc,instance:a.dbinstance},function(a){null===a&&$("#nmjv2_database").removeAttr("readonly");var b=$.parseJSON(a);$("#testNMJv2-result").html(b.message),$("#nmjv2_database").val(b.database),b.database?$("#nmjv2_database").attr("readonly",!0):$("#nmjv2_database").removeAttr("readonly")})}),$("#testNMJv2").click(function(){var a={};return a.host=$.trim($("#nmjv2_host").val()),a.host?($("#nmjv2_host").removeClass("warning"),$(this).prop("disabled",!0),$("#testNMJv2-result").html(loading),void $.get(srRoot+"/home/testNMJv2",{host:a.host}).done(function(a){$("#testNMJv2-result").html(a),$("#testNMJv2").prop("disabled",!1)})):($("#testNMJv2-result").html("Please fill out the necessary fields above."),void $("#nmjv2_host").addClass("warning"))}),$("#testFreeMobile").click(function(){var a={};return a.id=$.trim($("#freemobile_id").val()),a.apikey=$.trim($("#freemobile_apikey").val()),a.id&&a.apikey?($("#freemobile_id,#freemobile_apikey").removeClass("warning"),$(this).prop("disabled",!0),$("#testFreeMobile-result").html(loading),void $.get(srRoot+"/home/testFreeMobile",{freemobile_id:a.id,freemobile_apikey:a.apikey}).done(function(a){$("#testFreeMobile-result").html(a),$("#testFreeMobile").prop("disabled",!1)})):($("#testFreeMobile-result").html("Please fill out the necessary fields above."),a.id?$("#freemobile_id").removeClass("warning"):$("#freemobile_id").addClass("warning"),void(a.apikey?$("#freemobile_apikey").removeClass("warning"):$("#freemobile_apikey").addClass("warning")))}),$("#TraktGetPin").click(function(){trackt.pinUrl=$("#trakt_pin_url").val();window.open(trakt.pinUrl,"popUp","toolbar=no, scrollbars=no, resizable=no, top=200, left=200, width=650, height=550");$("#trakt_pin").removeClass("hide")}),$("#trakt_pin").on("keyup change",function(){var a={};a.pin=$("#trakt_pin").val(),0!==a.pin.length?($("#TraktGetPin").addClass("hide"),$("#authTrakt").removeClass("hide")):($("#TraktGetPin").removeClass("hide"),$("#authTrakt").addClass("hide"))}),$("#authTrakt").click(function(){var a={};a.pin=$("#trakt_pin").val(),0!==a.pin.length&&$.get(srRoot+"/home/getTraktToken",{trakt_pin:a.pin}).done(function(a){$("#testTrakt-result").html(a),$("#authTrakt").addClass("hide"),$("#trakt_pin").addClass("hide"),$("#TraktGetPin").addClass("hide")})}),$("#testTrakt").click(function(){var a={};return a.username=$.trim($("#trakt_username").val()),a.trendingBlacklist=$.trim($("#trakt_blacklist_name").val()),a.username?/\s/g.test(a.trendingBlacklist)?($("#testTrakt-result").html("Check blacklist name; the value need to be a trakt slug"),void $("#trakt_blacklist_name").addClass("warning")):($("#trakt_username").removeClass("warning"),$("#trakt_blacklist_name").removeClass("warning"),$(this).prop("disabled",!0),$("#testTrakt-result").html(loading),void $.get(srRoot+"/home/testTrakt",{username:a.username,blacklist_name:a.trendingBlacklist}).done(function(a){$("#testTrakt-result").html(a),$("#testTrakt").prop("disabled",!1)})):($("#testTrakt-result").html("Please fill out the necessary fields above."),void(a.username?$("#trakt_username").removeClass("warning"):$("#trakt_username").addClass("warning")))}),$("#testEmail").click(function(){var a,b,c,d,e,f,g,h,i;a=$("#testEmail-result"),a.html(loading),b=$("#email_host").val(),b=b.length>0?b:null,c=$("#email_port").val(),c=c.length>0?c:null,d=void 0!==$("#email_tls").attr("checked")?1:0,e=$("#email_from").val(),e=e.length>0?e:"root@localhost",f=$("#email_user").val().trim(),g=$("#email_password").val(),h="",null===b&&(h+='<li style="color: red;">You must specify an SMTP hostname!</li>'),null===c?h+='<li style="color: red;">You must specify an SMTP port!</li>':(null===c.match(/^\d+$/)||parseInt(c,10)>65535)&&(h+='<li style="color: red;">SMTP port must be between 0 and 65535!</li>'),h.length>0?(h="<ol>"+h+"</ol>",a.html(h)):(i=prompt("Enter an email address to send the test to:",null),null===i||0===i.length||null===i.match(/.*@.*/)?a.html('<p style="color: red;">You must provide a recipient email address!</p>'):$.get(srRoot+"/home/testEmail",{host:b,port:c,smtp_from:e,use_tls:d,user:f,pwd:g,to:i},function(a){$("#testEmail-result").html(a)}))}),$("#testNMA").click(function(){var a={};return a.api=$.trim($("#nma_api").val()),a.priority=$("#nma_priority").val(),a.api?($("#nma_api").removeClass("warning"),$(this).prop("disabled",!0),$("#testNMA-result").html(loading),void $.get(srRoot+"/home/testNMA",{nma_api:a.api,nma_priority:a.priority}).done(function(a){$("#testNMA-result").html(a),$("#testNMA").prop("disabled",!1)})):($("#testNMA-result").html("Please fill out the necessary fields above."),void $("#nma_api").addClass("warning"))}),$("#testPushalot").click(function(){var a={};return a.authToken=$.trim($("#pushalot_authorizationtoken").val()),a.authToken?($("#pushalot_authorizationtoken").removeClass("warning"),$(this).prop("disabled",!0),$("#testPushalot-result").html(loading),void $.get(srRoot+"/home/testPushalot",{authorizationToken:a.authToken}).done(function(a){$("#testPushalot-result").html(a),$("#testPushalot").prop("disabled",!1)})):($("#testPushalot-result").html("Please fill out the necessary fields above."),void $("#pushalot_authorizationtoken").addClass("warning"))}),$("#testPushbullet").click(function(){var a={};return a.api=$.trim($("#pushbullet_api").val()),a.api?($("#pushbullet_api").removeClass("warning"),$(this).prop("disabled",!0),$("#testPushbullet-result").html(loading),void $.get(srRoot+"/home/testPushbullet",{api:a.api}).done(function(a){$("#testPushbullet-result").html(a),$("#testPushbullet").prop("disabled",!1)})):($("#testPushbullet-result").html("Please fill out the necessary fields above."),void $("#pushbullet_api").addClass("warning"))}),$("#getPushbulletDevices").click(function(){a("Device list updated. Please choose a device to push to.")}),a(),$("#email_show").change(function(){var a=parseInt($("#email_show").val(),10);$("#email_show_list").val(a>=0?notify_data[a.toString()].list:"")}),$("#email_show").bind("notify",function(){b()}),b(),$("#email_show_save").click(function(){$.post(srRoot+"/home/saveShowNotifyList",{show:$("#email_show").val(),emails:$("#email_show_list").val()},function(a){b()})}),$("#use_plex").click(function(){$(this).is(":checked")?$(".plexinfo").removeClass("hide"):$(".plexinfo").addClass("hide")})},postProcessing:function(){function a(){$("#naming_pattern").val();$.get(srRoot+"/config/postProcessing/isRarSupported",function(a){"supported"!==a&&($("#unpack").qtip("option",{"content.text":"Unrar Executable not found.","style.classes":"qtip-rounded qtip-shadow qtip-red"}),$("#unpack").qtip("toggle",!0),$("#unpack").css("background-color","#FFFFDD"))})}function b(){var a={};a.pattern=$("#naming_pattern").val(),a.multi=$("#naming_multi_ep :selected").val(),a.animeType=$('input[name="naming_anime"]:checked').val(),$.get(srRoot+"/config/postProcessing/testNaming",{pattern:a.pattern,anime_type:3},function(a){a?($("#naming_example").text(a+".ext"),$("#naming_example_div").show()):$("#naming_example_div").hide()}),$.get(srRoot+"/config/postProcessing/testNaming",{pattern:a.pattern,multi:a.multi,anime_type:3},function(a){a?($("#naming_example_multi").text(a+".ext"),$("#naming_example_multi_div").show()):$("#naming_example_multi_div").hide()}),$.get(srRoot+"/config/postProcessing/isNamingValid",{pattern:a.pattern,multi:a.multi,anime_type:a.animeType},function(a){"invalid"===a?($("#naming_pattern").qtip("option",{"content.text":"This pattern is invalid.","style.classes":"qtip-rounded qtip-shadow qtip-red"}),$("#naming_pattern").qtip("toggle",!0),$("#naming_pattern").css("background-color","#FFDDDD")):"seasonfolders"===a?($("#naming_pattern").qtip("option",{"content.text":'This pattern would be invalid without the folders, using it will force "Flatten" off for all shows.',"style.classes":"qtip-rounded qtip-shadow qtip-red"}),$("#naming_pattern").qtip("toggle",!0),$("#naming_pattern").css("background-color","#FFFFDD")):($("#naming_pattern").qtip("option",{"content.text":"This pattern is valid.","style.classes":"qtip-rounded qtip-shadow qtip-green"}),$("#naming_pattern").qtip("toggle",!1),$("#naming_pattern").css("background-color","#FFFFFF"))})}function c(){var a=$("#naming_abd_pattern").val();$.get(srRoot+"/config/postProcessing/testNaming",{pattern:a,abd:"True"},function(a){a?($("#naming_abd_example").text(a+".ext"),$("#naming_abd_example_div").show()):$("#naming_abd_example_div").hide()}),$.get(srRoot+"/config/postProcessing/isNamingValid",{pattern:a,abd:"True"},function(a){"invalid"===a?($("#naming_abd_pattern").qtip("option",{"content.text":"This pattern is invalid.","style.classes":"qtip-rounded qtip-shadow qtip-red"}),$("#naming_abd_pattern").qtip("toggle",!0),$("#naming_abd_pattern").css("background-color","#FFDDDD")):"seasonfolders"===a?($("#naming_abd_pattern").qtip("option",{"content.text":'This pattern would be invalid without the folders, using it will force "Flatten" off for all shows.',"style.classes":"qtip-rounded qtip-shadow qtip-red"}),$("#naming_abd_pattern").qtip("toggle",!0),$("#naming_abd_pattern").css("background-color","#FFFFDD")):($("#naming_abd_pattern").qtip("option",{"content.text":"This pattern is valid.","style.classes":"qtip-rounded qtip-shadow qtip-green"}),$("#naming_abd_pattern").qtip("toggle",!1),$("#naming_abd_pattern").css("background-color","#FFFFFF"))})}function d(){var a=$("#naming_sports_pattern").val();$.get(srRoot+"/config/postProcessing/testNaming",{pattern:a,sports:"True"},function(a){a?($("#naming_sports_example").text(a+".ext"),$("#naming_sports_example_div").show()):$("#naming_sports_example_div").hide()}),$.get(srRoot+"/config/postProcessing/isNamingValid",{pattern:a,sports:"True"},function(a){"invalid"===a?($("#naming_sports_pattern").qtip("option",{"content.text":"This pattern is invalid.","style.classes":"qtip-rounded qtip-shadow qtip-red"}),$("#naming_sports_pattern").qtip("toggle",!0),$("#naming_sports_pattern").css("background-color","#FFDDDD")):"seasonfolders"===a?($("#naming_sports_pattern").qtip("option",{"content.text":'This pattern would be invalid without the folders, using it will force "Flatten" off for all shows.',"style.classes":"qtip-rounded qtip-shadow qtip-red"}),$("#naming_sports_pattern").qtip("toggle",!0),$("#naming_sports_pattern").css("background-color","#FFFFDD")):($("#naming_sports_pattern").qtip("option",{"content.text":"This pattern is valid.","style.classes":"qtip-rounded qtip-shadow qtip-green"}),$("#naming_sports_pattern").qtip("toggle",!1),$("#naming_sports_pattern").css("background-color","#FFFFFF"))})}function e(){var a={};a.pattern=$("#naming_anime_pattern").val(),a.multi=$("#naming_anime_multi_ep :selected").val(),a.animeType=$('input[name="naming_anime"]:checked').val(),$.get(srRoot+"/config/postProcessing/testNaming",{pattern:a.pattern,anime_type:a.animeType},function(a){a?($("#naming_example_anime").text(a+".ext"),$("#naming_example_anime_div").show()):$("#naming_example_anime_div").hide()}),$.get(srRoot+"/config/postProcessing/testNaming",{pattern:a.pattern,multi:a.multi,anime_type:a.animeType},function(a){a?($("#naming_example_multi_anime").text(a+".ext"),$("#naming_example_multi_anime_div").show()):$("#naming_example_multi_anime_div").hide()}),$.get(srRoot+"/config/postProcessing/isNamingValid",{pattern:a.pattern,multi:a.multi,anime_type:a.animeType},function(a){"invalid"===a?($("#naming_pattern").qtip("option",{"content.text":"This pattern is invalid.","style.classes":"qtip-rounded qtip-shadow qtip-red"}),$("#naming_pattern").qtip("toggle",!0),$("#naming_pattern").css("background-color","#FFDDDD")):"seasonfolders"===a?($("#naming_pattern").qtip("option",{"content.text":'This pattern would be invalid without the folders, using it will force "Flatten" off for all shows.',"style.classes":"qtip-rounded qtip-shadow qtip-red"}),$("#naming_pattern").qtip("toggle",!0),$("#naming_pattern").css("background-color","#FFFFDD")):($("#naming_pattern").qtip("option",{"content.text":"This pattern is valid.","style.classes":"qtip-rounded qtip-shadow qtip-green"}),$("#naming_pattern").qtip("toggle",!1),$("#naming_pattern").css("background-color","#FFFFFF"))})}function f(){"custom..."===$("#name_presets :selected").val().toLowerCase()?$("#naming_custom").show():($("#naming_custom").hide(),$("#naming_pattern").val($("#name_presets :selected").attr("id"))),b()}function g(){"custom..."===$("#name_abd_presets :selected").val().toLowerCase()?$("#naming_abd_custom").show():($("#naming_abd_custom").hide(),$("#naming_abd_pattern").val($("#name_abd_presets :selected").attr("id"))),c()}function h(){"custom..."===$("#name_sports_presets :selected").val().toLowerCase()?$("#naming_sports_custom").show():($("#naming_sports_custom").hide(),$("#naming_sports_pattern").val($("#name_sports_presets :selected").attr("id"))),d()}function i(){"custom..."===$("#name_anime_presets :selected").val().toLowerCase()?$("#naming_anime_custom").show():($("#naming_anime_custom").hide(),$("#naming_anime_pattern").val($("#name_anime_presets :selected").attr("id"))),e()}$("#config-components").tabs(),$("#tv_download_dir").fileBrowser({title:"Select TV Download Directory"});var j=function(){var a=0;return function(b,c){clearTimeout(a),a=setTimeout(b,c)}}();$("#unpack").on("change",function(){this.checked?a():$("#unpack").qtip("toggle",!1)}),$("#name_presets").on("change",function(){f()}),$("#name_abd_presets").on("change",function(){g()}),$("#naming_custom_abd").on("change",function(){g()}),$("#name_sports_presets").on("change",function(){h()}),$("#naming_custom_sports").on("change",function(){h()}),$("#name_anime_presets").on("change",function(){i()}),$("#naming_custom_anime").on("change",function(){i()}),$('input[name="naming_anime"]').on("click",function(){i()}),$("#naming_multi_ep").change(b),$("#naming_pattern").focusout(b),$("#naming_pattern").keyup(function(){j(function(){b()},500)}),$("#naming_anime_multi_ep").change(e),$("#naming_anime_pattern").focusout(e),$("#naming_anime_pattern").keyup(function(){j(function(){e()},500)}),$("#naming_abd_pattern").focusout(b),$("#naming_abd_pattern").keyup(function(){j(function(){c()},500)}),$("#naming_sports_pattern").focusout(b),$("#naming_sports_pattern").keyup(function(){j(function(){d()},500)}),$("#naming_anime_pattern").focusout(b),$("#naming_anime_pattern").keyup(function(){j(function(){e()},500)}),$("#show_naming_key").on("click",function(){$("#naming_key").toggle()}),$("#show_naming_abd_key").on("click",function(){$("#naming_abd_key").toggle()}),$("#show_naming_sports_key").on("click",function(){$("#naming_sports_key").toggle()}),$("#show_naming_anime_key").on("click",function(){$("#naming_anime_key").toggle()}),$("#do_custom").on("click",function(){$("#naming_pattern").val($("#name_presets :selected").attr("id")),$("#naming_custom").show(),$("#naming_pattern").focus()}),f(),g(),h(),i(),$("#metadataType").on("change keyup",function(){$(this).showHideMetadata()}),$.fn.showHideMetadata=function(){$(".metadataDiv").each(function(){var a=$(this).attr("id"),b=$("#metadataType :selected").val();b===a?$(this).show():$(this).hide()})},$(this).showHideMetadata(),$(".metadata_checkbox").on("click",function(){$(this).refreshMetadataConfig(!1)}),$.fn.refreshMetadataConfig=function(a){var b=0,c="";$(".metadataDiv").each(function(){var a=$(this).attr("id"),d=[],e=$("#"+a+"_show_metadata").prop("checked"),f=$("#"+a+"_episode_metadata").prop("checked"),g=$("#"+a+"_fanart").prop("checked"),h=$("#"+a+"_poster").prop("checked"),i=$("#"+a+"_banner").prop("checked"),j=$("#"+a+"_episode_thumbnails").prop("checked"),k=$("#"+a+"_season_posters").prop("checked"),l=$("#"+a+"_season_banners").prop("checked"),m=$("#"+a+"_season_all_poster").prop("checked"),n=$("#"+a+"_season_all_banner").prop("checked");
d.push(e?"1":"0"),d.push(f?"1":"0"),d.push(g?"1":"0"),d.push(h?"1":"0"),d.push(i?"1":"0"),d.push(j?"1":"0"),d.push(k?"1":"0"),d.push(l?"1":"0"),d.push(m?"1":"0"),d.push(n?"1":"0");for(var o=0,p=0,q=d.length;q>p;p++)o+=parseInt(d[p]);o>b&&(b=o,c=a),$("#"+a+"_eg_show_metadata").attr("class",e?"enabled":"disabled"),$("#"+a+"_eg_episode_metadata").attr("class",f?"enabled":"disabled"),$("#"+a+"_eg_fanart").attr("class",g?"enabled":"disabled"),$("#"+a+"_eg_poster").attr("class",h?"enabled":"disabled"),$("#"+a+"_eg_banner").attr("class",i?"enabled":"disabled"),$("#"+a+"_eg_episode_thumbnails").attr("class",j?"enabled":"disabled"),$("#"+a+"_eg_season_posters").attr("class",k?"enabled":"disabled"),$("#"+a+"_eg_season_banners").attr("class",l?"enabled":"disabled"),$("#"+a+"_eg_season_all_poster").attr("class",m?"enabled":"disabled"),$("#"+a+"_eg_season_all_banner").attr("class",n?"enabled":"disabled"),$("#"+a+"_data").val(d.join("|"))}),""!==c&&a&&($("#metadataType option[value="+c+"]").attr("selected","selected"),$(this).showHideMetadata())},$(this).refreshMetadataConfig(!0),$("img[title]").qtip({position:{viewport:$(window),at:"bottom center",my:"top right"},style:{tip:{corner:!0,method:"polygon"},classes:"qtip-shadow qtip-dark"}}),$("i[title]").qtip({position:{viewport:$(window),at:"top center",my:"bottom center"},style:{tip:{corner:!0,method:"polygon"},classes:"qtip-rounded qtip-shadow ui-tooltip-sb"}}),$(".custom-pattern,#unpack").qtip({content:"validating...",show:{event:!1,ready:!1},hide:!1,position:{viewport:$(window),at:"center left",my:"center right"},style:{tip:{corner:!0,method:"polygon"},classes:"qtip-rounded qtip-shadow qtip-red"}})},search:function(){function a(){$("#use_torrents").prop("checked")?$("#no_torrents").show():$("#no_torrents").hide()}$("#config-components").tabs(),$("#nzb_dir").fileBrowser({title:"Select .nzb black hole/watch location"}),$("#torrent_dir").fileBrowser({title:"Select .torrent black hole/watch location"}),$("#torrent_path").fileBrowser({title:"Select .torrent download location"}),$.fn.nzbMethodHandler=function(){var a=$("#nzb_method :selected").val(),b="#blackhole_settings",c="#sabnzbd_settings",d="#testSABnzbd",e="#testSABnzbd_result",f="#nzbget_settings";$(b).hide(),$(c).hide(),$(d).hide(),$(e).hide(),$(f).hide(),"blackhole"===a.toLowerCase()?$(b).show():"nzbget"===a.toLowerCase()?$(f).show():($(c).show(),$(d).show(),$(e).show())},$.fn.rtorrentScgi=function(){var a=$("#torrent_method :selected").val();if("rtorrent"===a.toLowerCase()){var b=$("#torrent_host").prop("value"),c="scgi://"===b.substr(0,7);c?($("#torrent_username_option").hide(),$("#torrent_username").prop("value",""),$("#torrent_password_option").hide(),$("#torrent_password").prop("value",""),$("#torrent_auth_type_option").hide(),$("#torrent_auth_type option[value=none]").attr("selected","selected")):($("#torrent_username_option").show(),$("#torrent_password_option").show(),$("#torrent_auth_type_option").show())}},$.fn.torrentMethodHandler=function(){$("#options_torrent_clients").hide(),$("#options_torrent_blackhole").hide();var a=$("#torrent_method :selected").val(),b=" host:port",c=" username",d=" password",e="",f="#options_torrent_blackhole";if(rpcurl=" RPC URL","blackhole"!==a.toLowerCase()){var g="#label_warning_deluge",h="#label_anime_warning_deluge",i="#host_desc_rtorrent",j="#host_desc_torrent",k="#torrent_verify_cert_option",l="#torrent_path_option",m="#torrent_seed_time_option",n="#torrent_high_bandwidth_option",o="#torrent_label_option",p="#torrent_label_anime_option",q="#path_synology",r="#torrent_paused_option";$(g).hide(),$(h).hide(),$(h).hide(),$(i).hide(),$(j).show(),$(k).hide(),$(torrent_verify_deluge).hide(),$(torrent_verify_rtorrent).hide(),$(torrent_auth_type_option).hide(),$(l).show(),$(l).find(".fileBrowser").show(),$(m).hide(),$(n).hide(),$(o).show(),$(p).show(),$(q).hide(),$(r).show(),$(torrent_rpcurl_option).hide(),$(this).rtorrentScgi(),"utorrent"===a.toLowerCase()?(e="uTorrent",$(l).hide(),$("#torrent_seed_time_label").text("Minimum seeding time is"),$(m).show(),$("#host_desc_torrent").text("URL to your uTorrent client (e.g. http://localhost:8000)")):"transmission"===a.toLowerCase()?(e="Transmission",$("#torrent_seed_time_label").text("Stop seeding when inactive for"),$(m).show(),$(n).show(),$(o).hide(),$(p).hide(),$(torrent_rpcurl_option).show(),$("#host_desc_torrent").text("URL to your Transmission client (e.g. http://localhost:9091)")):"deluge"===a.toLowerCase()?(e="Deluge",$(k).show(),$(torrent_verify_deluge).show(),$(torrent_verify_rtorrent).hide(),$(g).show(),$(h).show(),$("#torrent_username_option").hide(),$("#torrent_username").prop("value",""),$("#host_desc_torrent").text("URL to your Deluge client (e.g. http://localhost:8112)")):"deluged"==a?(e="Deluge",$(k).hide(),$(torrent_verify_deluge).hide(),$(torrent_verify_rtorrent).hide(),$(g).show(),$(h).show(),$("#torrent_username_option").show(),$("#host_desc_torrent").text("IP or Hostname of your Deluge Daemon (e.g. scgi://localhost:58846)")):"download_station"==a?(e="Synology DS",$(o).hide(),$(p).hide(),$("#torrent_paused_option").hide(),$(l).find(".fileBrowser").hide(),$("#host_desc_torrent").text("URL to your Synology DS client (e.g. http://localhost:5000)"),$(q).show()):"rtorrent"==a?(e="rTorrent",$(r).hide(),$("#host_desc_torrent").text("URL to your rTorrent client (e.g. scgi://localhost:5000 <br> or https://localhost/rutorrent/plugins/httprpc/action.php)"),$(k).show(),$(torrent_verify_deluge).hide(),$(torrent_verify_rtorrent).show(),$(torrent_auth_type_option).show()):"qbittorrent"==a?(e="qbittorrent",$(l).hide(),$(o).hide(),$(p).hide(),$("#host_desc_torrent").text("URL to your qbittorrent client (e.g. http://localhost:8080)")):"mlnet"==a&&(e="mlnet",$(l).hide(),$(o).hide(),$(k).hide(),$(torrent_verify_deluge).hide(),$(torrent_verify_rtorrent).hide(),$(p).hide(),$(r).hide(),$("#host_desc_torrent").text("URL to your MLDonkey (e.g. http://localhost:4080)")),$("#host_title").text(e+b),$("#username_title").text(e+c),$("#password_title").text(e+d),$("#torrent_client").text(e),$("#rpcurl_title").text(e+rpcurl),f="#options_torrent_clients"}$(f).show()},$("#nzb_method").change($(this).nzbMethodHandler),$(this).nzbMethodHandler(),$("#testSABnzbd").click(function(){$("#testSABnzbd_result").html(loading);var a=$("#sab_host").val(),b=$("#sab_username").val(),c=$("#sab_password").val(),d=$("#sab_apikey").val();$.get(srRoot+"/home/testSABnzbd",{host:a,username:b,password:c,apikey:d},function(a){$("#testSABnzbd_result").html(a)})}),$("#torrent_method").change($(this).torrentMethodHandler),$(this).torrentMethodHandler(),$("#use_torrents").click(function(){a()}),$("#test_torrent").click(function(){$("#test_torrent_result").html(loading);var a=$("#torrent_method :selected").val(),b=$("#torrent_host").val(),c=$("#torrent_username").val(),d=$("#torrent_password").val();$.get(srRoot+"/home/testTorrent",{torrent_method:a,host:b,username:c,password:d},function(a){$("#test_torrent_result").html(a)})}),$("#torrent_host").change($(this).rtorrentScgi)},subtitles:function(){$.fn.showHideServices=function(){$(".serviceDiv").each(function(){var a=$(this).attr("id"),b=$("#editAService :selected").val();b+"Div"===a?$(this).show():$(this).hide()})},$.fn.addService=function(a,b,c,d,e,f){if(null===c.match("/$")&&(c+="/"),0===$("#service_order_list > #"+a).length&&f!==!1){var g='<li class="ui-state-default" id="'+a+'"> <input type="checkbox" id="enable_'+a+'" class="service_enabler" CHECKED> <a href="'+anonURL+c+'" class="imgLink" target="_new"><img src="'+srRoot+'/images/services/newznab.gif" alt="'+b+'" width="16" height="16"></a> '+b+"</li>";$("#service_order_list").append(g),$("#service_order_list").sortable("refresh")}},$.fn.deleteService=function(a){$("#service_order_list > #"+a).remove()},$.fn.refreshServiceList=function(){var a=$("#service_order_list").sortable("toArray"),b=[];$.each(a,function(a,c){var d=+$("#enable_"+c).prop("checked")?"1":"0";b.push(c+":"+d)}),$("#service_order").val(b.join(" "))},$("#editAService").change(function(){$(this).showHideServices()}),$(".service_enabler").on("click",function(){$(this).refreshServiceList()}),$(this).showHideServices(),$("#service_order_list").sortable({placeholder:"ui-state-highlight",update:function(){$(this).refreshServiceList()}}),$("#service_order_list").disableSelection()},providers:function(){console.log("This function need to be filled with ConfigProviders.js but can't be as we've got scope issues currently.")}},manage:{init:function(){$.makeRow=function(a,b,c,d,e){var f="";return f+=' <tr class="'+$("#row_class").val()+" show-"+a+'">',f+='  <td class="tableleft" align="center"><input type="checkbox" class="'+a+'-epcheck" name="'+a+"-"+b+"x"+c+'"'+(e?" checked":"")+"></td>",f+="  <td>"+b+"x"+c+"</td>",f+='  <td class="tableright" style="width: 100%">'+d+"</td>",f+=" </tr>"}},index:function(){$("#massUpdateTable:has(tbody tr)").tablesorter({sortList:[[1,0]],textExtraction:{2:function(a){return $(a).find("span").text().toLowerCase()},3:function(a){return $(a).find("img").attr("alt")},4:function(a){return $(a).find("img").attr("alt")},5:function(a){return $(a).find("img").attr("alt")},6:function(a){return $(a).find("img").attr("alt")},7:function(a){return $(a).find("img").attr("alt")},8:function(a){return $(a).find("img").attr("alt")},9:function(a){return $(a).find("img").attr("alt")}},widgets:["zebra"],headers:{0:{sorter:!1},1:{sorter:"showNames"},2:{sorter:"quality"},3:{sorter:"sports"},4:{sorter:"scene"},5:{sorter:"anime"},6:{sorter:"flatfold"},7:{sorter:"archive_firstmatch"},8:{sorter:"paused"},9:{sorter:"subtitle"},10:{sorter:"default_ep_status"},11:{sorter:"status"},12:{sorter:!1},13:{sorter:!1},14:{sorter:!1},15:{sorter:!1},16:{sorter:!1},17:{sorter:!1}}})},backlogOverview:function(){$("#pickShow").change(function(){var a=$(this).val();a&&$("html,body").animate({scrollTop:$("#show-"+a).offset().top-25},"slow")})},failedDownloads:function(){$("#failedTable:has(tbody tr)").tablesorter({widgets:["zebra"],sortList:[[0,0]],headers:{3:{sorter:!1}}}),$("#limit").change(function(){window.location.href=srRoot+"/manage/failedDownloads/?limit="+$(this).val()})},massEdit:function(){$("#location").fileBrowser({title:"Select Show Location"})},episodeStatuses:function(){$(".allCheck").click(function(){var a=$(this).attr("id").split("-")[1];$("."+a+"-epcheck").prop("checked",$(this).prop("checked"))}),$(".get_more_eps").click(function(){var a=$(this).attr("id"),b=$("#allCheck-"+a).prop("checked"),c=$("tr#"+a),d=$(this).attr("data-clicked"),e=$(this).attr("value");d?"collapse"===e.toLowerCase()?($("table tr").filter(".show-"+a).hide(),$(this).prop("value","Expand")):"expand"===e.toLowerCase()&&($("table tr").filter(".show-"+a).show(),$(this).prop("value","Collapse")):($.getJSON(srRoot+"/manage/showEpisodeStatuses",{indexer_id:a,whichStatus:$("#oldStatus").val()},function(d){$.each(d,function(d,e){$.each(e,function(e,f){c.after($.makeRow(a,d,e,f,b))})})}),$(this).attr("data-clicked",1),$(this).prop("value","Collapse"))}),$(".selectAllShows").click(function(){$(".allCheck").each(function(){this.checked=!0}),$('input[class*="-epcheck"]').each(function(){this.checked=!0})}),$(".unselectAllShows").click(function(){$(".allCheck").each(function(){this.checked=!1}),$('input[class*="-epcheck"]').each(function(){this.checked=!1})})},subtitleMissed:function(){$(".allCheck").click(function(){var a=$(this).attr("id").split("-")[1];$("."+a+"-epcheck").prop("checked",$(this).prop("checked"))}),$(".get_more_eps").click(function(){var a=$(this).attr("id"),b=$("#allCheck-"+a).prop("checked"),c=$("tr#"+a),d=$(this).attr("data-clicked"),e=$(this).attr("value");d?"Collapse"===e?($("table tr").filter(".show-"+a).hide(),$(this).prop("value","Expand")):"Expand"===e&&($("table tr").filter(".show-"+a).show(),$(this).prop("value","Collapse")):($.getJSON(srRoot+"/manage/showSubtitleMissed",{indexer_id:a,whichSubs:$("#selectSubLang").val()},function(d){$.each(d,function(d,e){$.each(e,function(e,f){c.after($.makeRow(a,d,e,f.name,f.subtitles,b))})})}),$(this).attr("data-clicked",1),$(this).prop("value","Collapse"))}),$(".selectAllShows").click(function(){$(".allCheck").each(function(){this.checked=!0}),$('input[class*="-epcheck"]').each(function(){this.checked=!0})}),$(".unselectAllShows").click(function(){$(".allCheck").each(function(){this.checked=!1}),$('input[class*="-epcheck"]').each(function(){this.checked=!1})})}}},UTIL={exec:function(a,b){var c=SICKRAGE;b=void 0===b?"init":b,""!==a&&c[a]&&"function"==typeof c[a][b]&&c[a][b]()},init:function(){var a=document.body,b=a.getAttribute("data-controller"),c=a.getAttribute("data-action");UTIL.exec("common"),UTIL.exec(b),UTIL.exec(b,c)}};$(document).ready(UTIL.init);